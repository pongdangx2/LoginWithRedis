<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.104.2">
    <title>LoginWithRedis</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/sign-in/">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <style>
        .submit-btn {
            margin-top:5px;
        }
    </style>
    <script>
        window.onload=function(){
            var resultMessage = "[[${resultMessage}]]";
            if(resultMessage != ''){
                alert(resultMessage);
                submitAction("/user/login.do");
            }
        }
        function submitAction(action){
            var frm = document.getElementById("frm");
            frm.action=action;
            frm.submit();
        }
        function onSinginClicked(){
            if(validate()){
                submitAction("/user/signin.do");
            }
            /*
            var frm = document.getElementById("frm");
            frm.action="/user/signin";
            frm.submit();
             */
        }

        function onJoinClicked(){
            if(validate()){
                submitAction("/user/join.do");
            }
            /*
            var frm = document.getElementById("frm")
            frm.action="/user/join";
            frm.submit();
             */
        }
        function validate(){
            if(document.getElementById("id").value === ''){
                alert('ID를 입력하세요');
                return false;
            }
            if(document.getElementById("password").value === ''){
                alert('패스워드를 입력하세요');
                return false;
            }
            return true;
        }
    </script>
</head>
<body class="text-center">

<main class="form-signin w-100 m-auto">
    <form id="frm" method="post">
        <h1 class="h3 mb-3 fw-normal">Please sign in</h1>

        <div class="form-floating">
            <input type="id" class="form-control" id="id" placeholder="ID" th:name="id">
            <label for="id">id</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" id="password" placeholder="Password" th:name="password">
            <label for="password">Password</label>
        </div>
        <button class="w-100 btn btn-lg btn-primary submit-btn" name="signin" type="button" onclick="onSinginClicked()">Sign in</button>
        <button class="w-100 btn btn-lg btn-primary submit-btn" name="join" type="button" onclick="onJoinClicked()">Join</button>
        <p class="mt-5 mb-3 text-muted">&copy; 2017–2022</p>
    </form>
</main>
</body>
</html>
